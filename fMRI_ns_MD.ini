[data]
series_ids = subject docid fROI
split_ids = splitVal15
modulus = 4
X_train = ../data/fMRI_ns/MD_X.csv;../data/fMRI_ns/MD_SP.csv
X_dev = ../data/fMRI_ns/MD_X.csv;../data/fMRI_ns/MD_SP.csv
X_test = ../data/fMRI_ns/MD_X.csv;../data/fMRI_ns/MD_SP.csv
y_train = ../data/fMRI_ns/MD_y_train.csv
y_dev = ../data/fMRI_ns/MD_y_dev.csv
y_test = ../data/fMRI_ns/MD_y_test.csv
history_length = 256
filters = time < maxstimtime

[global_settings]
outdir = ../results/fMRI_ns_WM/md

[cdr_settings]
network_type = bayes
declare_priors = True
irf_param_prior_sd = 1
rescale_inputs = False
n_samples = 1
n_iter = 100000
optim = Nadam
learning_rate = 0.001
ema_decay = 0.999
minibatch_size = 1024
eval_minibatch_size = 100000
log_freq = 100
save_freq = 100
plot_n_time_units = 30
plot_n_time_points = 1000
plot_mean_as_reference = False

[irf_name_map]
network = Network
rate = Rate
unigramsurp = Unigram surprisal
fwprob5surp = 5-gram surprisal
soundPower100ms = Sound power
pausedur = Pause duration
endofsentence = End of sentence
totsurp = PCFG surprisal
adaptivesurp = Adaptive surprisal
dltcvm = DLT-CVM
dlts = DLT-S
yesJ = End Center Embedding

[model_CDR_dlt]
ablate = dlt
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dlt), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dlt), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_logdlt]
ablate = dlt
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(log1p(dlt)), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(log1p(dlt)), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_dltc]
ablate = dltc
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltc), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltc), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_dltv]
ablate = dltv
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltv), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltv), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_dltm]
ablate = dltm
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltm), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltm), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_dltcv]
ablate = dltcv
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltcv), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltcv), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_dltcm]
ablate = dltcm
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltcm), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltcm), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_dltvm]
ablate = dltvm
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltvm), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltvm), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_dltcvm]
ablate = dltcvm
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltcvm), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltcvm), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_dlts]
ablate = dlts
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dlts), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dlts), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_noF]
ablate = noF
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noF), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noF), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_noFdr]
ablate = noFdr
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noFdr), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noFdr), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_noFdrv]
ablate = noFdrv
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noFdrv), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noFdrv), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_noFlen]
ablate = noFlen
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noFlen), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noFlen), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_startembdMin]
ablate = startembdMin
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(startembdMin), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(startembdMin), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_endembdMin]
ablate = endembdMin
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(endembdMin), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(endembdMin), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_embddr]
ablate = embddr
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(embddr), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(embddr), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_embddrv]
ablate = embddrv
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(embddrv), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(embddrv), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_embdlen]
ablate = embdlen
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(embdlen), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(embdlen), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_embddepthMin]
ablate = embddepthMin
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(embddepthMin), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(embddepthMin), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_yesJ]
ablate = yesJ
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(yesJ), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(yesJ), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_noFyesJ]
ablate = noFyesJ
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noFyesJ), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(noFyesJ), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_ACTRActivation]
ablate = ACTRActivation
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(ACTRActivation), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(ACTRActivation), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

[model_CDR_full]
ablate = dltcvm dlts
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltcvm) + s(dlts), HRFDoubleGamma2(irf_id=HRF)) + (s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltcvm) + s(dlts), HRFDoubleGamma2(irf_id=HRF, ran=T)) | fROI) + (1 | subject)

