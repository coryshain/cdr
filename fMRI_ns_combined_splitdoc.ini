[data]
series_ids = subject docid fROI
split_ids = splitValDoc
modulus = 4
X_train = ../data/fMRI_ns/LANG_MD_X.csv;../data/fMRI_ns/LANG_MD_SP.csv
X_dev = ../data/fMRI_ns/LANG_MD_X.csv;../data/fMRI_ns/LANG_MD_SP.csv
X_test = ../data/fMRI_ns/LANG_MD_X.csv;../data/fMRI_ns/LANG_MD_SP.csv
y_train = ../data/fMRI_ns/LANG_MD_y_splitdoc_train.csv
y_dev = ../data/fMRI_ns/LANG_MD_y_splitdoc_dev.csv
y_test = ../data/fMRI_ns/LANG_MD_y_splitdoc_test.csv
history_length = 256
filters = time < maxstimtime; subject != s217

[global_settings]
outdir = ../results/fMRI_ns_WM/combined_splitdoc

[cdr_settings]
network_type = bayes
declare_priors = True
irf_param_prior_sd = 1
rescale_inputs = False
n_samples = 1
n_iter = 100000
optim = Nadam
learning_rate = 0.001
ema_decay = 0.999
minibatch_size = 1024
eval_minibatch_size = 100000
log_freq = 100
save_freq = 100
plot_n_time_units = 30
plot_n_time_points = 1000
plot_mean_as_reference = False

[irf_name_map]
network = Network
rate = Rate
unigramsurp = Unigram surprisal
fwprob5surp = 5-gram surprisal
soundPower100ms = Sound power
pausedur = Pause duration
endofsentence = End of sentence
totsurp = PCFG surprisal
adaptivesurp = Adaptive surprisal
dltcvm = DLT-CVM
dlts = DLT-SC
yesJ = End Center Embedding

[model_CDR_full]
ablate = dltcvm:network dlts:network
formula = BOLD ~ s(tr) + C(rate + s(soundPower100ms) + endofsentence + s(pausedur) + s(unigramsurp) + s(fwprob5surp) + s(totsurp) + s(adaptivesurp) + s(dltcvm) + s(dlts), HRFDoubleGamma2(irf_id=HRF))*network + (1 | fROI) + (1 | subject)

