[data]
X_train = data/MAZE_natstor/natstormaze_X.csv
X_dev = data/MAZE_natstor/natstormaze_X.csv
X_test = data/MAZE_natstor/natstormaze_X.csv
y_train = data/MAZE_natstor/natstormaze_y_train.csv
y_dev = data/MAZE_natstor/natstormaze_y_dev.csv
y_test = data/MAZE_natstor/natstormaze_y_test.csv
series_ids = subject docid
sep = ' '
history_length = 32
t_delta_cutoff = 60
filters = rt > 100; rt < 5000; isattentive = 1; startofsentence != 1; endofsentence != 1; incorrect = 0

[global_settings]
outdir = results/natstormaze

[cdr_settings]
predictive_distribution_map = exgaussianinvrate
rescale_t_delta = False
nn_regularizer_scale = 5
regularize_final_layer = False
n_units = 32
n_layers = 2
dropout_rate = 0.1
fixed_dropout = True
n_ensemble = 10
early_stopping = True
eval_freq = 10
learning_rate = 0.001
convergence_n_iterates = 250
plot_step_default = sd
plot_n_time_units = 2

[irf_name_map]
rt = RT (ms)
rate = Rate
endofsentence = End of sentence
incorrect = Incorrect
wlen = Word length
unigramsurp = Unigram surprisal
fwprob5surp = 5-gram surprisal
totsurp = PCFG surprisal
ngram = N-gram surprisal
bert = BERT surprisal
gpt = GPT-2 surprisal
log(gpt) = log GPT-2 surprisal
gptprob = GPT-2 probability
gptj = GPT-J surprisal
gpt3 = GPT-3 surprisal
transxl = TransXL surprisal

# Baseline

[model_CDR_nosurp]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp, NN()) + (C(rate + endofsentence + incorrect + wlen + unigramsurp, NN(ran=T)) | subject)  + (1 | docid:sentid:sentpos)

# N-gram surprisal

[model_CDR_ngram]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + ngram, NN()) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + ngram, NN(ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_ngramprob_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + ngramprob, NN(inputs_to_drop=[ngramprob])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + ngramprob, NN(inputs_to_drop=[ngramprob], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_ngram0.50_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(ngram), NN(inputs_to_drop=[pow0.5(ngram)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(ngram), NN(inputs_to_drop=[pow0.5(ngram)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_ngram0.75_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(ngram), NN(inputs_to_drop=[pow0.75(ngram)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(ngram), NN(inputs_to_drop=[pow0.75(ngram)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_ngram1.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + ngram, NN(inputs_to_drop=[ngram])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + ngram, NN(inputs_to_drop=[ngram], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_ngram1.33_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(ngram), NN(inputs_to_drop=[pow1.33(ngram)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(ngram), NN(inputs_to_drop=[pow1.33(ngram)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_ngram2.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(ngram), NN(inputs_to_drop=[pow2(ngram)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(ngram), NN(inputs_to_drop=[pow2(ngram)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

# PCFG surprisal

[model_CDR_pcfg]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + totsurp, NN()) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + totsurp, NN(ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_pcfgprob_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + totsurpprob, NN(inputs_to_drop=[totsurpprob])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + totsurpprob, NN(inputs_to_drop=[totsurpprob], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_pcfg0.50_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(totsurp), NN(inputs_to_drop=[pow0.5(totsurp)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(totsurp), NN(inputs_to_drop=[pow0.5(totsurp)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_pcfg0.75_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(totsurp), NN(inputs_to_drop=[pow0.75(totsurp)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(totsurp), NN(inputs_to_drop=[pow0.75(totsurp)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_pcfg1.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + totsurp, NN(inputs_to_drop=[totsurp])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + totsurp, NN(inputs_to_drop=[totsurp], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_pcfg1.33_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(totsurp), NN(inputs_to_drop=[pow1.33(totsurp)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(totsurp), NN(inputs_to_drop=[pow1.33(totsurp)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_pcfg2.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(totsurp), NN(inputs_to_drop=[pow2(totsurp)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(totsurp), NN(inputs_to_drop=[pow2(totsurp)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

# GPT surprisal

[model_CDR_gpt]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt, NN()) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt, NN(ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gptprob_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gptprob, NN(inputs_to_drop=[gptprob])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gptprob, NN(inputs_to_drop=[gptprob], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt0.50_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(gpt), NN(inputs_to_drop=[pow0.5(gpt)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(gpt), NN(inputs_to_drop=[pow0.5(gpt)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt0.75_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(gpt), NN(inputs_to_drop=[pow0.75(gpt)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(gpt), NN(inputs_to_drop=[pow0.75(gpt)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt1.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt, NN(inputs_to_drop=[gpt])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt, NN(inputs_to_drop=[gpt], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt1.33_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(gpt), NN(inputs_to_drop=[pow1.33(gpt)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(gpt), NN(inputs_to_drop=[pow1.33(gpt)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt2.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(gpt), NN(inputs_to_drop=[pow2(gpt)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(gpt), NN(inputs_to_drop=[pow2(gpt)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

# GPT-J surprisal

[model_CDR_gptj]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gptj, NN()) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gptj, NN(ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gptjprob_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gptjprob, NN(inputs_to_drop=[gptjprob])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gptjprob, NN(inputs_to_drop=[gptjprob], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gptj0.50_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(gptj), NN(inputs_to_drop=[pow0.5(gptj)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(gptj), NN(inputs_to_drop=[pow0.5(gptj)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gptj0.75_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(gptj), NN(inputs_to_drop=[pow0.75(gptj)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(gptj), NN(inputs_to_drop=[pow0.75(gptj)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gptj1.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gptj, NN(inputs_to_drop=[gptj])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gptj, NN(inputs_to_drop=[gptj], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gptj1.33_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(gptj), NN(inputs_to_drop=[pow1.33(gptj)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(gptj), NN(inputs_to_drop=[pow1.33(gptj)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gptj2.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(gptj), NN(inputs_to_drop=[pow2(gptj)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(gptj), NN(inputs_to_drop=[pow2(gptj)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

# GPT3 surprisal

[model_CDR_gpt3]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt3, NN()) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt3, NN(ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt3prob_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt3prob, NN(inputs_to_drop=[gpt3prob])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt3prob, NN(inputs_to_drop=[gpt3prob], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt30.50_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(gpt3), NN(inputs_to_drop=[pow0.5(gpt3)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.5(gpt3), NN(inputs_to_drop=[pow0.5(gpt3)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt30.75_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(gpt3), NN(inputs_to_drop=[pow0.75(gpt3)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow0.75(gpt3), NN(inputs_to_drop=[pow0.75(gpt3)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt31.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt3, NN(inputs_to_drop=[gpt3])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt3, NN(inputs_to_drop=[gpt3], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt31.33_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(gpt3), NN(inputs_to_drop=[pow1.33(gpt3)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow1.33(gpt3), NN(inputs_to_drop=[pow1.33(gpt3)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt32.00_h0]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(gpt3), NN(inputs_to_drop=[pow2(gpt3)])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(gpt3), NN(inputs_to_drop=[pow2(gpt3)], ran=T)) | subject)  + (1 | docid:sentid:sentpos)

# Inverting nonlinearities

[model_CDR_gptprob_invert]
nn_regularizer_scale = 0.01
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gptprob, NN()) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gptprob, NN(ran=T)) | subject)  + (1 | docid:sentid:sentpos)

[model_CDR_gpt2.00_invert]
nn_regularizer_scale = 0.01
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(gpt), NN()) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + pow2(gpt), NN(ran=T)) | subject)  + (1 | docid:sentid:sentpos)

# Surp and prob together

[model_CDR_gptsurpproblin]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt + gptprob, NN(inputs_to_drop=[gpt,gptprob])) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt + gptprob, NN(ran=T, inputs_to_drop=[gpt,gptprob])) | subject)  + (1 | docid:sentid:sentpos)

# GPT and PCFG together

[model_CDR_gptpcfg]
formula = rt ~ C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt + totsurp, NN()) + (C(rate + endofsentence + incorrect + wlen + unigramsurp + gpt + totsurp, NN(ran=T)) | subject)  + (1 | docid:sentid:sentpos)
