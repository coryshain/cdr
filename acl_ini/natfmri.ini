[data]
series_ids = subject docid fROI
split_ids = splitVal15
modulus = 4
X_train = data/LANG_X.csv;data/LANG_SP2.csv
X_dev = data/LANG_X.csv;data/LANG_SP2.csv
X_test = data/LANG_X.csv;data/LANG_SP2.csv
y_train = data/LANG_y_train.csv
y_dev = data/LANG_y_dev.csv
y_test = data/LANG_y_test.csv
history_length = 128

[global_settings]
outdir = results/natfmri
use_gpu_if_available = False

[cdr_settings]
network_type = mle
direct_irf = False
weight_sd_init = glorot
optim_name = Nadam
epsilon = 1e-2
optim_epsilon = 1e-8
learning_rate = 1e-2
max_global_gradient_norm = 1
loss_filter_n_sds = 1000
minibatch_size = 1024
eval_minibatch_size = 10000
convergence_n_iterates = 100
n_units_input_projection = 32
n_layers_input_projection = 2
n_units_hidden_state = 32
n_units_irf = 32
n_layers_irf = 2
ema_decay = 0.999
ranef_dropout_rate = 0.2
input_projection_dropout_rate = 0.2
h_in_dropout_rate = 0.2
h_rnn_dropout_rate = 0.2
rnn_dropout_rate = 0.2
irf_dropout_rate = 0.2
nn_regularizer_name = l2_regularizer
nn_regularizer_scale = 1
ranef_regularizer_name = l2_regularizer
ranef_regularizer_scale = 1000
scale_loss_with_data = True
scale_regularizer_with_data = False
rescale_time_X = True
rescale_t_delta = True
rescale_inputs = True
center_inputs = False
activation = gelu

reference_time = 5
plot_step_default = sd
plot_n_time_units = 30
indicator_names = endofsentence
log_freq = 1
save_freq = 10

[irf_name_map]
rate = Rate
unigramsurp = Unigram surprisal
fwprob5surp = 5-gram surprisal
endofsentence = End of sentence
pausedur = Pause duration
totsurp = PCFG surprisal
soundPower250ms = Sound power
BOLD = %% signal change

[model_CDRNN_FF]
formula = BOLD ~ unigramsurp + fwprob5surp + (1 | fROI) + (1 | subject)

[model_CDRNN_FF_npsy]
formula = BOLD ~ soundPower250ms + unigramsurp + fwprob5surp + totsurp + (1 | fROI) + (1 | subject)

[model_CDRNN_RNN]
n_units_rnn = inherit
formula = BOLD ~ unigramsurp + fwprob5surp + (1 | fROI) + (1 | subject)

